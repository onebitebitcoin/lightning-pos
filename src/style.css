@tailwind base;
@tailwind components;
@tailwind utilities;

/* Modern base styles */
@layer base {
  :root {
    /* Surfaces */
    --bg-primary: 255 255 255;          /* white */
    --bg-secondary: 248 250 252;        /* gray-50 */
    --bg-tertiary: 241 245 249;         /* gray-100 */

    /* Text */
    --text-primary: 15 23 42;           /* slate-900 */
    --text-secondary: 100 116 139;      /* slate-500 */
    --text-disabled: 148 163 184;       /* slate-400 */

    /* Borders */
    --border-primary: 226 232 240;      /* gray-200 */
    --border-secondary: 203 213 225;    /* gray-300 */

    /* Accents */
    --accent: 59 130 246;               /* primary-500 */
  }

  .dark {
    /* Surfaces */
    --bg-primary: 17 24 39;             /* gray-900 */
    --bg-secondary: 2 6 23;             /* gray-950 */
    --bg-tertiary: 31 41 55;            /* gray-800 */

    /* Text */
    --text-primary: 241 245 249;        /* gray-100 */
    --text-secondary: 203 213 225;      /* gray-300 */
    --text-disabled: 148 163 184;       /* gray-400 */

    /* Borders */
    --border-primary: 55 65 81;         /* gray-700 */
    --border-secondary: 75 85 99;       /* gray-600 */

    /* Accents */
    --accent: 96 165 250;               /* primary-400 */
  }
  html {
    scroll-behavior: smooth;
  }
  
  body {
    font-feature-settings: 'rlig' 1, 'calt' 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Modern component styles */
@layer components {
  /* Inputs aligned to semantic surfaces */
  .form-input {
    @apply w-full px-4 py-3 rounded-xl border border-border-primary bg-bg-primary text-text-primary placeholder:text-text-disabled focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200;
  }

  /* Danger button */
  .btn-danger {
    @apply bg-error-600 hover:bg-error-700 focus:ring-error-500 text-white shadow-soft hover:shadow-medium;
  }

  /* Category chip button */
  .btn-category {
    @apply px-3 py-1.5 rounded-full border border-border-secondary text-text-secondary bg-bg-primary hover:text-text-primary hover:border-border-primary transition-colors;
  }
  .btn-category.active {
    @apply bg-primary-50 text-primary-700 border-primary-300 dark:bg-primary-900/30 dark:text-primary-200 dark:border-primary-700;
  }

  /* Quantity stepper button */
  .btn-quantity {
    @apply w-8 h-8 inline-flex items-center justify-center rounded-lg bg-bg-secondary hover:bg-bg-tertiary border border-border-primary text-text-primary touch-target;
  }

  /* Payment option card */
  .payment-option {
    @apply rounded-xl border border-border-primary bg-bg-primary p-4 hover:border-primary-300 hover:shadow-soft transition-all cursor-pointer;
  }
  .payment-option.active {
    @apply ring-2 ring-primary-500 ring-offset-2; 
  }
  /* Modern card component */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-2xl shadow-soft border border-gray-100 dark:border-gray-700/50 transition-all duration-200;
  }
  
  .card-hover {
    @apply hover:shadow-medium hover:border-gray-200 dark:hover:border-gray-600/50 hover:-translate-y-0.5;
  }
  
  /* Modern button variants */
  .btn {
    @apply inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 focus:ring-primary-500 text-white shadow-soft hover:shadow-medium;
  }
  
  .btn-success {
    @apply bg-success-600 hover:bg-success-700 focus:ring-success-500 text-white shadow-soft hover:shadow-medium;
  }
  
  .btn-secondary {
    @apply bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 focus:ring-gray-500 text-gray-900 dark:text-gray-100 shadow-soft hover:shadow-medium;
  }
  
  .btn-outline {
    @apply border-2 border-gray-300 dark:border-gray-500 hover:border-gray-400 dark:hover:border-gray-400 focus:ring-gray-500 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700/50;
  }
  
  /* Modern input styles */
  .input {
    @apply w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200;
  }
  
  /* Modern badge styles */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium;
  }
  
  .badge-primary {
    @apply bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200;
  }
  
  .badge-success {
    @apply bg-success-100 text-success-800 dark:bg-success-900 dark:text-success-200;
  }
  
  .badge-warning {
    @apply bg-warning-100 text-warning-800 dark:bg-warning-900 dark:text-warning-200;
  }
  
  .badge-error {
    @apply bg-error-100 text-error-800 dark:bg-error-900 dark:text-error-200;
  }
}

/* Custom responsive utilities */
@layer utilities {
  .shadow-soft-hover { @apply transition-shadow hover:shadow-soft; }

  /* Touch-friendly click targets */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Better text truncation for mobile */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
  
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
  
  /* Mobile-specific scrollable areas */
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
  
  /* Safe area padding for mobile devices */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }
  
  /* Modern glass effect */
  .glass {
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    background: rgba(255, 255, 255, 0.8);
  }
  
  .glass-dark {
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    background: rgba(17, 24, 39, 0.8);
  }
  
  /* Modern gradient backgrounds */
  .gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }
  
  .gradient-success {
    background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
  }
  
  .gradient-warm {
    background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
  }
}
